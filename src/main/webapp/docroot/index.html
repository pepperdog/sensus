<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Sensus</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="../../lib/bootstrap-3.3.7/css/bootstrap.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <!-- <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script> -->
    <!-- <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script> -->
    <![endif]-->
</head>

<body>
<!-- http://stackoverflow.com/questions/10093835/coffeescript-class-not-accessible-in-main-javascript -->
<script type="text/javascript">
    App = {};
</script>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script type="text/javascript" src="lib/jquery-3.1.1.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script type="text/javascript" src="lib/bootstrap-3.3.7/js/bootstrap.js"></script>
<script type="text/javascript" src="lib/underscore-1.8.3.js"></script>
<script type="text/javascript" src="lib/backbone-1.3.3.js"></script>

<div id="PageContainer">Old contents of the PageContainer</div>

<!-- Local Components Must be at the bottom so the html elements they refer to already exist -->
<script type="text/javascript" src="framework/AppSupport.js"></script>
<script type="text/javascript" src="framework/SelfLoadingView.js"></script>

<script type="text/javascript" src="app/SensusView/SensusView.js"></script>

<script type="text/javascript">
    window.onload = function() {
        var pageContainer = document.getElementById('PageContainer');
        var sensusView = new App.SensusView();
        var viewElement = sensusView.render().el;
        pageContainer.parentNode.replaceChild(viewElement, pageContainer);
    };


    /*
     This is the version of startup that is wrapped in jquery. It doesn't work with jQuery 3. Works with jQuery 2
     $(function() {
     console.log('point one');
     var currentWindowOnload = window.onload;

     window.onload = function() {
     console.log('point two');
     if ( currentWindowOnload ) {
     currentWindowOnload();
     }
     window.appController = new Dashboard({
     el: $('#PageContainer')
     });
     window.appController.render();
     };
     });
     */

</script>

</body>

</html>



